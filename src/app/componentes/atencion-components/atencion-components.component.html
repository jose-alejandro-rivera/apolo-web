<div class="flujo" *ngIf="atencionComponente">

    <div class="flujo-title-principales flujo-margen apolo-actividades-principales  rounded">
        Flujos
    </div>
    <div class="flujo-cuadriula flujo-margen apolo-actividades-principales  rounded">
        <div class="">
            <!--Informacion de Flujo-->
            <div class="col-12 flujo-text ">
                <label> Flujo: </label>
                <label> {{nombreFlujo}}</label>
            </div>

            <div *ngFor="let paso of ListaPasos">
                <div *ngIf="pasoActual==paso.Id_Paso">
                    <label class="apolo-text-title-content">
                        Paso {{paso.Id_Paso}} : {{paso.NomPaso}}
                    </label>
                    <!--Paso tipo desicion-->
                    <div *ngIf="paso.Id_TipoPaso == 2">
                        <div class="col-12">
                            <p>{{decisionActual.NomCuestionarioCampo}} </p>
                        </div>
                        <div class="col-4">
                            <select name="select" (change)="DecisionSeleccionada($event.target.value)"
                                *ngIf="decisionActual.NomCampo=='ListaSiNo'" required>
                                <option value="" selected aria-placeholder="--">Sin Selección</option>
                                <option value="1">SI</option>
                                <option value="0">NO</option>
                            </select>
                        </div>
                    </div>
                    <!--Paso tipo actividad-->
                    <div *ngIf="paso.Id_TipoPaso == 1">
                        <!--Carga cuestionario-->
                        <div *ngIf="CuestionarioActual">
                            <div *ngFor="let cuestionarioCampo of cuestionarioPaso">
                                <div class="col-12">
                                    <label class="">
                                        {{cuestionarioCampo.Id_CuestionarioCampo}} -
                                        {{cuestionarioCampo.NomCuestionarioCampo}}
                                    </label>
                                </div>
                                <div class="col-4">
                                    <select name="select" (change)="resultadoCuestionario($event,cuestionarioCampo.Id_CuestionarioCampo)"
                                        *ngIf="cuestionarioCampo.NomCampo=='ListaSiNo'" required>
                                        <option value="" selected>Sin Selección</option>
                                        <option value="1">SI</option>
                                        <option value="0">NO</option>
                                    </select>
                                    <select name="select" (change)="resultadoCuestionario($event,cuestionarioCampo.Id_CuestionarioCampo)"
                                        *ngIf="cuestionarioCampo.NomCampo=='ListaTécnicaComercial'" required>
                                        <option value="" selected>Sin Selección</option>
                                        <option value="1">TÉCNICA</option>
                                        <option value="0">COMERCIAL</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <!-- Carga Proceso-->
                        <div *ngIf="ProcesoActual">
                            <!-- Proceso -->
                            <div class="col-12">
                                <label class="">
                                    {{procesoPaso.Id_Proceso}} - {{procesoPaso.Descripcion}}
                                </label>
                            </div>
                            <div class="col text-center" *ngIf="!finflujo">
                                <button type="button" class="flujo-button-procesar flujo-fuente"
                                    (click)="ejecutarProceso($event)">Procesar</button>
                            </div>
                            <div *ngIf="response" role="alert">
                                <div class="flujo-text-content">
                                    <strong class=" mr-auto">
                                        Estado
                                    </strong>
                                </div>
                                <div class="toast-body">
                                    <label class="flujo-text">
                                        {{pruebaproceso.response}}
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--Fin Paso tipo actividad-->
                    <div class="col text-center" *ngIf="finflujo">
                        <button type="button" class="flujo-button-procesar flujo-fuente align-items-center"
                            (click)="finalizarAtencion($event)">Finalizar</button>
                    </div>

                    <div>
                            <button type="button" class="flujo-button-atras flujo-fuente"
                                *ngIf="paso.Id_Paso != info.CodPaso_Inicial" (click)="Atras(paso.Id_Paso)">Atras</button>
        
                            <button type="button" class="flujo-button-siguiente flujo-fuente"
                                (click)="Siguiente(paso.Id_Paso)">Siguiente</button>
                        </div>
                </div>
            </div>


        </div>
    </div>
</div>